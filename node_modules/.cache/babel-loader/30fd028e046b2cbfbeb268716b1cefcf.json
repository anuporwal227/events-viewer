{"ast":null,"code":"import _toConsumableArray from \"/Users/anu/Desktop/event-viewer/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/anu/Desktop/event-viewer/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/anu/Desktop/event-viewer/src/views/Home/index.js\";\nimport React, { useState, useRef } from 'react';\nimport cls from 'classnames';\nimport Header from 'components/Header';\nimport { EVENTS } from 'globals/constants';\nimport * as R from 'ramda';\nimport css from './styles.module.scss';\n\nvar Home = function Home() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedTabs = _useState2[0],\n      setSelectedTabs = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      activeEventId = _useState4[0],\n      setActiveEventId = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      showCloseTabForTab = _useState6[0],\n      setShowCloseTabForTab = _useState6[1];\n\n  var navBar = useRef(null);\n\n  var addToSelectedTabs = function addToSelectedTabs(selectedEvent) {\n    var isEventSelected = selectedTabs.filter(function (event) {\n      return event.eventId === selectedEvent.eventId;\n    });\n\n    if (!isEventSelected.length) {\n      setSelectedTabs([].concat(_toConsumableArray(selectedTabs), [selectedEvent]));\n      setActiveEventId(selectedEvent.eventId);\n    }\n  };\n\n  var removeFromSelectedEvents = function removeFromSelectedEvents(eventId) {\n    var updatedTabs = selectedTabs.filter(function (event) {\n      return event.eventId !== eventId;\n    });\n    var selectedTabIndex = R.findIndex(R.propEq('eventId', eventId), selectedTabs);\n    var newActiveEventId = null;\n\n    if (updatedTabs.length) {\n      if (selectedTabIndex) {\n        newActiveEventId = updatedTabs[selectedTabIndex - 1].eventId;\n      } else {\n        newActiveEventId = updatedTabs[0].eventId;\n      }\n    }\n\n    setSelectedTabs(updatedTabs);\n    setTimeout(function () {\n      return setActiveEventId(newActiveEventId);\n    }, 0);\n  };\n\n  var showCloseTabBtn = function showCloseTabBtn(show, eventId) {\n    console.log(show, eventId);\n\n    if (show) {\n      setShowCloseTabForTab(eventId);\n    } else {\n      setShowCloseTabForTab(null);\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: css.home,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(Header, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: css.content,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: css['events-list'],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, EVENTS().map(function (event) {\n    return React.createElement(\"div\", {\n      className: css['event-type'],\n      onClick: function onClick() {\n        return addToSelectedTabs(event);\n      },\n      key: event.eventId,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, event.eventName);\n  })), React.createElement(\"div\", {\n    className: css['selected-events'],\n    ref: navBar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, selectedTabs.map(function (event) {\n    return React.createElement(\"div\", {\n      key: \"selected_event_\".concat(event.eventId),\n      onClick: function onClick() {\n        return setActiveEventId(event.eventId);\n      },\n      className: \"\".concat(cls(css['selected-event'], activeEventId === event.eventId && css.active), \" custom-tabs\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: css['tab-content'],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, event.eventName), console.log(showCloseTabForTab === event.eventId), React.createElement(\"span\", {\n      className: css['close-tab'],\n      onClick: function onClick() {\n        return removeFromSelectedEvents(event.eventId);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"\\u2715\"));\n  })), React.createElement(\"div\", {\n    className: css['event-details'],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: css['active-tab-content'],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, function () {\n    var currentActiveEvent = selectedTabs.filter(function (event) {\n      return event.eventId === activeEventId;\n    });\n    if (!currentActiveEvent.length) return null;\n    var _currentActiveEvent$ = currentActiveEvent[0].content,\n        headers = _currentActiveEvent$.headers,\n        data = _currentActiveEvent$.data;\n    return React.createElement(\"table\", {\n      className: css.table,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, headers.map(function (i, index) {\n      return React.createElement(\"th\", {\n        className: css.th,\n        key: \"headers_\".concat(index),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, i));\n    }))), data.length ? React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, data.map(function (eventInfo, index) {\n      return React.createElement(\"tr\", {\n        key: \"event_info_\".concat(index),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, eventInfo.map(function (info) {\n        return React.createElement(\"td\", {\n          className: css.cell,\n          key: info,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, info);\n      }));\n    })) : React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      colSpan: headers.length,\n      className: css.cell,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"No data found\")));\n  }()))));\n};\n\nexport default Home;","map":{"version":3,"sources":["/Users/anu/Desktop/event-viewer/src/views/Home/index.js"],"names":["React","useState","useRef","cls","Header","EVENTS","R","css","Home","selectedTabs","setSelectedTabs","activeEventId","setActiveEventId","showCloseTabForTab","setShowCloseTabForTab","navBar","addToSelectedTabs","selectedEvent","isEventSelected","filter","event","eventId","length","removeFromSelectedEvents","updatedTabs","selectedTabIndex","findIndex","propEq","newActiveEventId","setTimeout","showCloseTabBtn","show","console","log","home","content","map","eventName","active","currentActiveEvent","headers","data","table","i","index","th","eventInfo","info","cell"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react';\n\nimport cls from 'classnames';\n\nimport Header from 'components/Header';\n\nimport {EVENTS} from 'globals/constants';\nimport * as R from 'ramda';\n\nimport css from './styles.module.scss';\n\nconst Home = () => {\n    const [selectedTabs, setSelectedTabs] = useState([]);\n    const [activeEventId, setActiveEventId] = useState(null);\n    const [showCloseTabForTab, setShowCloseTabForTab] = useState(null);\n\n    const navBar = useRef(null);\n\n    const addToSelectedTabs = (selectedEvent => {\n        const isEventSelected = selectedTabs.filter(event => event.eventId === selectedEvent.eventId);\n        if(!isEventSelected.length){\n            setSelectedTabs([...selectedTabs, selectedEvent]);\n            setActiveEventId(selectedEvent.eventId);\n        }\n\n    });\n\n    const removeFromSelectedEvents = (eventId) => {\n        const updatedTabs = selectedTabs.filter(event => event.eventId !== eventId);\n        const selectedTabIndex = R.findIndex(R.propEq('eventId', eventId),  selectedTabs);\n        let newActiveEventId = null;\n        if(updatedTabs.length){\n            if(selectedTabIndex){\n                newActiveEventId = updatedTabs[selectedTabIndex-1].eventId;\n            } else {\n                newActiveEventId = updatedTabs[0].eventId;\n            }\n        }\n        setSelectedTabs(updatedTabs);\n        setTimeout(() => setActiveEventId(newActiveEventId), 0);\n    };\n\n    const showCloseTabBtn = (show, eventId, ) => {\n        console.log(show, eventId);\n        if(show){\n            setShowCloseTabForTab(eventId);\n        } else {\n            setShowCloseTabForTab(null);\n        }\n    };\n\n\n    return <div className={css.home}>\n        <Header/>\n        <div className={css.content}>\n            <div className={css['events-list']}>\n                {EVENTS().map(event => <div className={css['event-type']}\n                                            onClick={() => addToSelectedTabs(event)}\n                                            key={event.eventId}>\n                    {event.eventName}\n                </div> )}\n            </div>\n            <div className={css['selected-events']} ref={navBar}>\n                {selectedTabs.map(event => <div key={`selected_event_${event.eventId}`}\n                                                onClick={() => setActiveEventId(event.eventId)}\n                                                className={`${cls(css['selected-event'], activeEventId === event.eventId && css.active)} custom-tabs`}>\n                    <p className={css['tab-content']}>{event.eventName}</p>\n                    {console.log(showCloseTabForTab === event.eventId)}\n                    <span className={css['close-tab']}\n                          onClick={() => removeFromSelectedEvents(event.eventId)}>&#10005;</span>\n                </div>)}\n            </div>\n            <div className={css['event-details']}>\n                <div className={css['active-tab-content']}>\n                    {(() => {\n                       const currentActiveEvent = selectedTabs.filter(event => event.eventId === activeEventId);\n                       if(!currentActiveEvent.length) return null;\n                       const { headers, data } = currentActiveEvent[0].content;\n                       return (\n                           <table className={css.table}>\n                               <thead>\n                                   <tr>\n                                   {headers.map((i, index) => <th className={css.th} key={`headers_${index}`}><div>{i}</div></th>)}\n                                   </tr>\n                               </thead>\n                               {data.length ?\n                                   <tbody>\n                                   {data.map((eventInfo, index) => <tr key={`event_info_${index}`}>\n                                       {eventInfo.map(info => <td className={css.cell} key={info}>{info}</td>)}\n                                   </tr>)}\n                                   </tbody>:\n                                   <tr>\n                                       <td colSpan={headers.length} className={css.cell}>No data found</td>\n                                   </tr>\n                               }\n                           </table>\n                       )\n                    })()}\n                </div>\n            </div>\n        </div>\n    </div>\n};\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}